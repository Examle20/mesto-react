{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/CardDeletePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","isOwn","owner","_id","basketButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","backgroundPosition","backgroundRepeat","backgroundSize","alt","onClick","onCardClick","type","onBasketClick","onCardDelete","name","onCardLike","aria-label","length","Main","onEditAvatar","src","avatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","Date","getFullYear","ImagePopup","classNameOpen","isOpen","useEffect","onEscClose","onOverlayClose","onClose","PopupWithForm","buttonInactive","isButtonActive","useState","buttonDisabled","setButtonDisabled","elementsRef","useRef","current","checkValidity","onButtonActive","ref","action","noValidate","onSubmit","children","disabled","buttonTitle","Input","memo","errorMessage","setErrorMessage","handleChange","e","console","log","target","value","trim","onChange","validationMessage","id","placeholder","minLength","maxLength","required","autoComplete","onPaste","contentEditable","EditProfilePopup","setName","description","setDescription","preventDefault","onUpdateUser","xName","AddPlacePopup","title","setTitle","setLink","EditAvatarPopup","onUpdateAvatar","CardDeletePopup","api","baseUrl","headers","authorization","contentType","this","_baseUrl","_authorization","_contentType","fetch","then","res","ok","json","Promise","reject","status","method","body","JSON","stringify","removeLike","putLike","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","selectedCard","setSelectedCard","isPopupWithImageOpen","setIsPopupWithImageOpen","setCurrentUser","selectedDeletionCard","setSelectedDeletionCard","setCards","buttonSave","setButtonSave","buttonCreate","setButtonCreate","buttonDelete","setButtonDelete","isButtonSaveUser","setIsButtonSaveUser","isButtonSavePlace","setIsButtonSavePlace","isButtonSaveAvatar","setIsButtonSaveAvatar","getUser","catch","err","getInitialCards","handleButtonState","setButton","escClose","evt","key","closeAllPopups","handleEscClose","document","addEventListener","handlePressingMouse","classList","contains","removeEventListener","Provider","changeLikeCardStatus","newCard","state","c","editUserInfo","boolean","addCard","changeAvatar","removeCard","newCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a3c223e.chunk.js","sourcesContent":["function Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n  const card = props.card;\n  const isOwn = card.owner._id === currentUser._id;\n  const basketButtonClassName = (\n    `elements__basket ${isOwn ? '': 'elements__basket_hidden'}`\n  )\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`elements__like ${isLiked ?'elements_like_active' : '' }`)\n  const handleCardClick = () => {\n    props.onCardClick(card)\n  }\n\n  const handleLikeClick = () => {\n    props.onCardLike(card);\n  }\n\n\n  const handleDeleteClick = () => {\n    props.onBasketClick();\n    props.onCardDelete(card);\n  }\n\n  return(\n    <li className=\"elements__item\" >\n      <div style={{ backgroundImage: `url(${card.link})`, backgroundPosition: \"center\", backgroundRepeat: \"no-repeat\", backgroundSize:\"cover\" }}\n           alt=\"Что-то с ссылкой на изображение\"\n           className=\"elements__image\"\n           onClick={handleCardClick}\n      />\n      <button type=\"button\" className={basketButtonClassName} onClick={handleDeleteClick}></button>\n      <div className=\"elements__group\">\n        <h2 className=\"elements__title\">{card.name}</h2>\n        <div className=\"elements__group-like\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} aria-label=\"Нравится\"></button>\n          <p className=\"elements__like-count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n};\n\nexport default Card;\n\n\n","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return(\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__user\">\n          <div className=\"profile__photo-group\" onClick={props.onEditAvatar}>\n            <img\n              src={currentUser.avatar}\n              alt=\"Изображение профиля\"\n              className=\"profile__photo\"\n            />\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__main-info\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button type=\"button\" className=\"profile__button-edit\" aria-label=\"Редактировать\" onClick={props.onEditProfile}></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n          <button type=\"button\" className=\"profile__button-add\" aria-label=\"Добавить\" onClick={props.onAddPlace}></button>\n        </div>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map((item) =>(\n              <Card\n                key={item._id}\n                card={item}\n                onCardLike = {props.onCardLike}\n                onCardDelete = {props.onCardDelete}\n                onCardClick={props.onCardClick}\n                onBasketClick={props.onBasketClick}\n              />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 - {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  const {link} =props.card\n  const classNameOpen = props.isOpen ? 'popup_visible' : '';\n\n  React.useEffect(() => {\n    props.onEscClose(props.isOpen);\n  },[props.isOpen, props.card, props.onEscClose])\n\n  return(\n    <div className={`popup popup_image ${classNameOpen}`} onClick={props.onOverlayClose}>\n      <figure className=\"popup__image-container\">\n        <button\n          type=\"button\"\n          className=\"popup__button-close popup__button-close_image\"\n          aria-label=\"Закрыть\"\n          onClick={props.onClose}\n        >\n        </button>\n        <img src={link}   alt=\"Выбранное изображение\" className=\"popup__image\"  />\n        <figcaption className=\"popup__image-title\">{props.card.name}</figcaption>\n      </figure>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nfunction PopupWithForm(props) {\n  const classNameOpen = props.isOpen ? 'popup_visible' : '';\n  const buttonInactive = props.isButtonActive ? '' : 'popup__button-save_inactive'\n  const [buttonDisabled, setButtonDisabled] = React.useState(false);\n  const elementsRef = React.useRef()\n\n  React.useEffect(() => {\n    if(elementsRef.current && elementsRef.current.checkValidity()) {\n      props.onButtonActive(true)\n      setButtonDisabled(false);\n    }else{\n      props.onButtonActive(false)\n      setButtonDisabled(true);\n    }\n  },)\n\n  React.useEffect(() => {\n    props.onEscClose(props.isOpen);\n  },[props.isOpen, props.onEscClose])\n\n\n  return(\n    <div className={`popup popup_validation popup_${props.name} ${classNameOpen}`} onClick={props.onOverlayClose}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__button-close popup__button-close_edit\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n        <form ref={elementsRef} action=\"pages/index.js\" className=\"popup__form\" name={`form_${props.name}`} noValidate onSubmit={props.onSubmit}>\n          {props.children}\n          <button type=\"submit\" disabled={buttonDisabled} className={`popup__button-save popup__button-save_${props.name} ${buttonInactive}`} aria-label=\"Сохранить\">{props.buttonTitle}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nconst Input = React.memo((props) => {\n  const [errorMessage, setErrorMessage] = React.useState('');\n\n  const handleChange = (e) => {\n    console.log(e.target.value.trim().length)\n    console.log(e.target.value.trim().length < 2 )\n    props.onChange(e)\n    if(e.target.value.trim().length < 2 && e.target.validationMessage === ''){\n      setErrorMessage('Нужно как минимум 2 символа');\n    }else{\n      setErrorMessage(e.target.validationMessage);\n    }\n  }\n\n  React.useEffect(() => {\n    if(!props.isOpen) setErrorMessage('');\n  },[props.isOpen])\n  return (\n    <>\n      <input\n        id={`${props.name}-input`}\n        type={props.type}\n        className={`popup__form-input popup__form-input_field_${props.name}`}\n        name={props.name}\n        placeholder={props.placeholder}\n        minLength={props.minLength}\n        maxLength={props.maxLength}\n        required\n        autoComplete=\"off\"\n        value={props.value}\n        onChange={handleChange}\n        onPaste={handleChange}\n        contentEditable={true}\n      />\n      <span className={`${props.name}-input-error popup__form-error popup__form-error_active`}>\n        {errorMessage}\n      </span>\n    </>\n  );\n})\n\nexport default Input;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport Input from \"./Input\";\nfunction EditProfilePopup(props) {\n\n  const [name, setName]  = React.useState('вв');\n  const [description, setDescription] = React.useState( '');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n   setName(e.target.value)\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name.trim(),\n      about: description.trim(),\n    });\n  }\n\n  return(\n    <PopupWithForm\n      name='edit'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onEscClose={props.onEscClose}\n      onOverlayClose={props.onOverlayClose}\n      buttonTitle={props.buttonTitle}\n      onSubmit={handleSubmit}\n      isButtonActive={props.isButtonActive}\n      onButtonActive={props.onButtonActive}\n      children={(\n      <>\n        <h2 className=\"popup__title\">Редактировать профиль</h2>\n        <label className=\"popup__form-field\">\n          <Input\n            name='name'\n            type='text'\n            placeholder='Имя'\n            minLength='2'\n            maxLength='40'\n            xName={name}\n            value={name || ''}\n            onChange={handleChangeName}\n            isOpen={props.isOpen}\n            isButtonActive={props.isButtonActive}\n            onButtonActive={props.onButtonActive}\n            />\n        </label>\n        <label className=\"popup__form-field\">\n          <Input\n            name='about'\n            type='text'\n            placeholder='Имя'\n            minLength='2'\n            maxLength='200'\n            xName={description}\n            value={description || ''}\n            onChange={handleChangeDescription}\n            isOpen={props.isOpen}\n            isButtonActive={props.isButtonActive}\n            onButtonActive={props.onButtonActive}\n          />\n        </label>\n      </>\n    )}\n    />\n  )\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport Input from \"./Input\";\nfunction AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  const handleChangeTitle = (e) => {\n    setTitle(e.target.value)\n  }\n\n  const handleChangeLink = (e) => {\n    setLink(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onAddPlace(title, link)\n  }\n\n  React.useEffect(() => {\n    setTitle('');\n    setLink('');\n  },[props.isOpen])\n  return(\n    <PopupWithForm\n      name='add'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onEscClose={props.onEscClose}\n      onOverlayClose={props.onOverlayClose}\n      buttonTitle={props.buttonTitle}\n      onButtonActive={props.onButtonActive}\n      isButtonActive={props.isButtonActive}\n      onSubmit={handleSubmit}\n      children={(\n        <>\n          <h2 className=\"popup__title popup__title_place\">Новое место</h2>\n          <label className=\"popup__form-field\">\n            <Input\n              name='name'\n              type='text'\n              placeholder='Название'\n              minLength='2'\n              maxLength='30'\n              value={title || ''}\n              xName={title}\n              isOpen={props.isOpen}\n              onChange={handleChangeTitle}\n              isButtonActive={props.isButtonActive}\n              onButtonActive={props.onButtonActive}\n              />\n          </label>\n          <label className=\"popup__form-field\">\n            <Input\n              name='link'\n              type='url'\n              placeholder='Ссылка на картинку'\n              value={link || ''}\n              onChange={handleChangeLink}\n              isOpen={props.isOpen}\n              xName={link}\n              isButtonActive={props.isButtonActive}\n              onButtonActive={props.onButtonActive}\n            />\n          </label>\n        </>\n      )}\n    />\n  )\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport Input from \"./Input\";\nfunction EditAvatarPopup(props) {\n\nconst [link, setLink] = React.useState('');\n  function handleChangeLink(e) {\n    setLink(e.target.value)\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(link)\n  }\n  React.useEffect(() => {\n    setLink('');\n  },[props.isOpen])\n  return(\n    <PopupWithForm\n      name='avatar'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onEscClose={props.onEscClose}\n      onOverlayClose={props.onOverlayClose}\n      buttonTitle={props.buttonTitle}\n      isButtonActive={props.isButtonActive}\n      onButtonActive={props.onButtonActive}\n      onSubmit={handleSubmit}\n      children={(\n        <>\n          <h2 className=\"popup__title popup__title_place\">Обновить аватар</h2>\n          <label className=\"popup__form-field\">\n            <Input\n              name='avatar'\n              type='url'\n              placeholder='Ссылка на картинку'\n              value={link || ''}\n              isOpen={props.isOpen}\n              onChange={handleChangeLink}\n              isButtonActive={props.isButtonActive}\n              onButtonActive={props.onButtonActive}\n            />\n          </label>\n        </>\n      )}\n    />\n  )\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\n\nfunction CardDeletePopup(props) {\n  const card = props.card;\n  const classNameOpen = props.isOpen ? 'popup_visible' : '';\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onCardDelete(card)\n  }\n  React.useEffect(() => {\n    props.onEscClose(props.isOpen);\n  },[props.isOpen])\n  return(\n    <div className={`popup popup_delete ${classNameOpen}`} onClick={props.onOverlayClose}>\n      <div className=\"popup__container\">\n        <p className=\"popup__delete-text\">Вы уверены?</p>\n        <button className=\"popup__button-save popup__button-save_verification\" onClick={handleSubmit}>{props.buttonTitle}</button>\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default CardDeletePopup;\n","export class Api {\n\n  constructor( {baseUrl, headers}) {\n    const {authorization, contentType} = headers;\n    this._baseUrl = baseUrl;\n    this._authorization = authorization;\n    this._contentType = contentType;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`,\n      {\n        headers: {\n          authorization: this._authorization,\n          'Content-Type': this._contentType,\n        }\n      }\n    )\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  getUser() {\n    return fetch(`${this._baseUrl}/users/me`,\n      {\n        headers:{\n          authorization: this._authorization,\n          'Content-Type': this._contentType,\n        }\n      }\n    )\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n            return res.json();\n        }\n      })\n  }\n\n  editUserInfo(name, about) {\n    return fetch(`${this._baseUrl}/users/me`,{\n      method: 'PATCH',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      })\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  putLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      }\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  removeLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      }\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  removeCard(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      },\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n\n  changeAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._authorization,\n        'Content-Type': this._contentType,\n      },\n      body: JSON.stringify({\n        avatar: avatar,\n      })\n    })\n      .then(res => {\n        if (!res.ok){\n          return Promise.reject(res.status)\n        } else{\n          return res.json();\n        }\n      })\n  }\n  changeLikeCardStatus(_id, isLiked) {\n    if(isLiked) {\n      return  this.removeLike(_id);\n    }else {\n      return this.putLike(_id);\n    }\n  }\n}\n\n\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\n  headers: {\n    authorization: '1ab383b2-76d9-452f-83da-c9ac4a4eb776',\n    contentType: 'application/json'\n  }\n});\n\nexport default api;\n","import React from \"react\";\nimport '../App.css';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport CardDeletePopup from \"./CardDeletePopup\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({link:'', name: ''});\n  const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false)\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [selectedDeletionCard, setSelectedDeletionCard] = React.useState('')\n  const [cards, setCards] = React.useState([])\n\n  const [buttonSave, setButtonSave] = React.useState('Сохранить');\n  const [buttonCreate, setButtonCreate] = React.useState('Создать');\n  const [buttonDelete, setButtonDelete] = React.useState('Да')\n\n  const [isButtonSaveUser, setIsButtonSaveUser] = React.useState(false);\n  const [isButtonSavePlace, setIsButtonSavePlace] = React.useState(false);\n  const [isButtonSaveAvatar, setIsButtonSaveAvatar] = React.useState(false);\n\n\n  const handleStateButtonEdit = (boolean) => {\n    setIsButtonSaveUser(boolean);\n  }\n\n  const handleStateButtonPlace = (boolean) => {\n    setIsButtonSavePlace(boolean);\n  }\n\n  const handleStateButtonAvatar = (boolean) => {\n    setIsButtonSaveAvatar(boolean);\n  }\n\n  React.useEffect(() =>{\n    api.getUser()\n      .then((res) => {\n        setCurrentUser(res);\n      },)\n      .catch(err => console.log(err))\n\n    api.getInitialCards()\n      .then((res) => {\n        setCards(res);\n        console.log(res)\n      })\n      .catch(err => console.log(err))\n  },[])\n\n  const handleButtonState = (setButton, buttonTitle) => {\n    setButton(buttonTitle);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    handleButtonState(setButtonDelete, 'Удаление...')\n    api.removeCard(card._id)\n      .then((res) => {\n        const newCards = cards.filter(newCard => newCard._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n        handleButtonState(setButtonDelete, 'Да')\n      })\n      .catch(err => console.log(err))\n  }\n\n  const handleAddPlace = (name, link) => {\n    handleButtonState(setButtonCreate,'Создание...')\n    api.addCard(name, link)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n        handleButtonState(setButtonCreate,'Создать')\n      })\n      .catch(err => console.log(err))\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsPopupWithImageOpen(true)\n  }\n\n  const handleDeleteSelectedCard = (card) => {\n    setSelectedDeletionCard(card);\n  }\n\n  const handleBasketClick = () => {\n    setIsCardDeletePopupOpen(!isCardDeletePopupOpen);\n  }\n\n  const escClose = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n  }\n\n  const handleEscClose = (isOpen) => {\n    if(isOpen) document.addEventListener('keydown', escClose);\n  }\n\n  const handlePressingMouse = (evt) => {\n      if (evt.target.classList.contains('popup')) {\n        closeAllPopups();\n      }\n  }\n\n  //Параметры передаются для плавного закрытия попапа с изображением\n  const closeAllPopups = () => {\n    document.removeEventListener(\"keydown\", escClose)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsCardDeletePopupOpen(false);\n    setIsPopupWithImageOpen(false);\n  }\n\n  const handleUpdateUser = ({name, about}) => {\n    handleButtonState(setButtonSave,'Сохранение...')\n    api.editUserInfo(name, about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        handleButtonState(setButtonSave,'Сохранить')\n      })\n  }\n\n  const handleUpdateAvatar = (avatar) => {\n    handleButtonState(setButtonSave,'Сохранение...')\n    api.changeAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        handleButtonState(setButtonSave,'Сохранить')\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onBasketClick={handleBasketClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteSelectedCard}\n          />\n          <Footer />\n        </div>\n        <EditProfilePopup\n          name='edit'\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEscClose={handleEscClose}\n          onOverlayClose={handlePressingMouse}\n          onUpdateUser={handleUpdateUser}\n          onButtonActive={handleStateButtonEdit}\n          isButtonActive={isButtonSaveUser}\n          buttonTitle={buttonSave}\n        />\n        <AddPlacePopup\n          name='add'\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onEscClose={handleEscClose}\n          onOverlayClose={handlePressingMouse}\n          onAddPlace={handleAddPlace}\n          buttonTitle={buttonCreate}\n          onButtonActive={handleStateButtonPlace}\n          isButtonActive={isButtonSavePlace}\n        />\n        <EditAvatarPopup\n          name='avatar'\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onEscClose={handleEscClose}\n          onOverlayClose={handlePressingMouse}\n          buttonTitle={buttonSave}\n          onUpdateAvatar={handleUpdateAvatar}\n          onButtonActive={handleStateButtonAvatar}\n          isButtonActive={isButtonSaveAvatar}\n        />\n        <CardDeletePopup\n          isOpen={isCardDeletePopupOpen}\n          onClose={closeAllPopups}\n          onEscClose={handleEscClose}\n          onOverlayClose={handlePressingMouse}\n          onCardDelete={handleCardDelete}\n          card={selectedDeletionCard}\n          buttonTitle={buttonDelete}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          onEscClose={handleEscClose}\n          isOpen={isPopupWithImageOpen}\n          onOverlayClose={handlePressingMouse}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}